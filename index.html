<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ÌêÅÎ™®ÏΩî ÎπÑÏ¶à ÎΩëÍ∏∞</title>

<style>
  body {
    margin: 0;
    padding: 0;
    background: #f5f5f5;
    font-family: Arial, sans-serif;
    text-align: center;
  }

  .container {
    max-width: 500px;
    margin: 0 auto;
    padding: 40px 20px;
  }

  .logo-wrap img {
    max-width: 350px;
    cursor: pointer;
    margin-bottom: 30px;
  }

  .result-box {
    width: 100%;
    height: 320px;
    background: #ffffff;
    border-radius: 16px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin-bottom: 30px;
  }

  .result-box img {
    max-width: 220px;
    max-height: 200px;
    margin-bottom: 15px;
  }

  .result-text {
    font-size: 18px;
    color: #333;
  }

  h2 {
      color: #8D7860;
    }

  button {
    padding: 14px 24px;
    font-size: 16px;
    border: none;
    border-radius: 15px;
    cursor: pointer;
    background: #4a6cf7;
    color: white;
  }

  button:disabled {
    background: #aaa;
    cursor: not-allowed;
  }

  .copyright {
    margin-top: 100px;
    font-size: 12px;
    color: #8D7860;
  }
</style>
</head>

<body>

<div class="container">

  <!-- Î°úÍ≥† -->
  <div class="logo-wrap">
    <a href="">
      <img src="https://i.imgur.com/rYcxn0Z.png" alt="ÌêÅÎ™®ÏΩî Î°úÍ≥†">
    </a>
  </div>

  <!-- Í≤∞Í≥º ÏòÅÏó≠ -->
  <div class="result-box">
    <img id="resultImage" src="" alt="">
    <div id="resultText" class="result-text">
      <h2>ÎûúÎç§ ÎπÑÏ¶à</h2>
    </div>
  </div>

  <!-- Î≤ÑÌäº -->
  <button id="drawBtn" onclick="drawOnce()">ÎπÑÏ¶à ÎΩëÍ∏∞</button>

  <!-- Ïπ¥ÌîºÎùºÏù¥Ìä∏ -->
  <div class="copyright">
    ¬© Pong PocoPoco Project
  </div>

</div>

<script>
  // ÎÇ†Ïßú (ÏûêÏ†ï Í∏∞Ï§Ä)
  function getToday() {
    const now = new Date();
    return now.getFullYear() + "-" +
      String(now.getMonth() + 1).padStart(2, "0") + "-" +
      String(now.getDate()).padStart(2, "0");
  }

  // üéØ ÌôïÎ•† ÏÑ§Ï†ï (Ï¥ù 17Í∞úÎ°ú ÎäòÎ¶¨Î©¥ Îê®)
  const items = [
    { img: "https://i.imgur.com/AzLRt62.png", text: "1", weight: 40 },
    { img: "https://i.imgur.com/aj93cdr.png", text: "2", weight: 40 },
    { img: "https://i.imgur.com/Cd1wCSR.png", text: "3", weight: 40 },
    { img: "https://i.imgur.com/EJgJuYU.png", text: "4", weight: 40 },
    { img: "https://i.imgur.com/PG9LlCU.png", text: "5", weight: 40 },
    { img: "https://i.imgur.com/uZICWWs.png", text: "6", weight: 40 },
    { img: "https://i.imgur.com/4haWS1t.png", text: "7", weight: 20 },
    { img: "https://i.imgur.com/9EFrKWH.png", text: "8", weight: 20 },
    { img: "https://i.imgur.com/5VO6tms.png", text: "9", weight: 20 },
    { img: "https://i.imgur.com/pjmbbnr.png", text: "10", weight: 20 },
    { img: "https://i.imgur.com/stAEGUa.png", text: "11", weight: 8 },
    { img: "https://i.imgur.com/8UEBiRl.png", text: "12", weight: 8 },
    { img: "https://i.imgur.com/NzPHyDO.png", text: "13", weight: 8 },
    { img: "https://i.imgur.com/XmEdvW2.png", text: "14", weight: 8 },
    { img: "https://i.imgur.com/VNaBcla.png", text: "15", weight: 8 },
    { img: "https://i.imgur.com/AZdtAbt.png", text: "16", weight: 2 },
    { img: "https://i.imgur.com/RQNwhO3.png", text: "17", weight: 2 }

  ];

  // Í∞ÄÏ§ëÏπò ÎûúÎç§
  function weightedRandom(items) {
    const total = items.reduce((sum, i) => sum + i.weight, 0);
    let rand = Math.random() * total;

    for (const item of items) {
      rand -= item.weight;
      if (rand < 0) return item;
    }
  }

  function drawOnce() {
    const today = getToday();
    const savedDate = localStorage.getItem("lastDrawDate");

    if (savedDate === today) {
      alert("Ïò§ÎäòÏùÄ Ïù¥ÎØ∏ Í≤∞Í≥ºÎ•º ÌôïÏù∏ÌñàÏñ¥Ïöî!\nÎÇ¥Ïùº Îã§Ïãú ÏôÄÏ£ºÏÑ∏Ïöî üòä");
      return;
    }

    const result = weightedRandom(items);

    document.getElementById("resultImage").src = result.img;
    document.getElementById("resultText").innerText = result.text;

    localStorage.setItem("lastDrawDate", today);
    document.getElementById("drawBtn").disabled = true;
  }

  // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ïò§Îäò Ïù¥ÎØ∏ ÎΩëÏïòÏúºÎ©¥ Î≤ÑÌäº ÎπÑÌôúÏÑ±Ìôî
  window.onload = function () {
    const today = getToday();
    if (localStorage.getItem("lastDrawDate") === today) {
      document.getElementById("drawBtn").disabled = true;
    }
  };
</script>

</body>
</html>
