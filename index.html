<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ÌêÅÎ™®ÏΩî ÎπÑÏ¶à ÎΩëÍ∏∞</title>

<style>
  body {
  font-family: -apple-system, BlinkMacSystemFont, "Apple SD Gothic Neo", sans-serif;
  text-align: center;
  padding: 60px;
}

.logo-wrap {
  text-align: center;
  margin-bottom: 30px;
}

.logo-wrap img {
  max-width: 350px;
  width: 100%;
  height: auto;
  cursor: pointer;
}

h2 {
  color: #8D7860;
}

button {
  padding: 14px 24px;
  font-size: 16px;
  border: none;
  border-radius: 15px;
  color: #fff;
  cursor: pointer;
  margin-bottom: 20px;
  background: #9ABF62;
}

button:disabled {
  background: #FA8B60;
  cursor: not-allowed;
  opacity: 0.8;
}

.result {
  margin-top: 25px;
}

.image-box {
  width: 100%;
  height: 260px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  margin-top: 10px;
  margin-bottom: 16px;
}

.image-box img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  border-radius: 12px;
}

.result-text {
  font-size: 20px;
  font-weight: 600;
  color: #8D7860;
}

footer {
  margin-top: 100px;
  font-size: 12px;
  color: #8D7860;
}

</style>
</head>

<body>

<div class="container">

  <!-- Î°úÍ≥† -->
  <div class="logo-wrap">
    <a href="">
      <img src="https://i.imgur.com/rYcxn0Z.png" alt="ÌêÅÎ™®ÏΩî Î°úÍ≥†">
    </a>
  </div>

  <!-- Í≤∞Í≥º ÏòÅÏó≠ -->
<h2>üé≤ Ïò§ÎäòÏùò ÎπÑÏ¶àÎäî?</h2>

<button id="drawBtn" onclick="drawOnce()">ÎπÑÏ¶à ÎΩëÍ∏∞</button>

<div class="result">
  <div class="image-box">
    <img id="resultImage" src="">
  </div>
  <div id="resultText" class="result-text"></div>
</div>

  <!-- Î≤ÑÌäº -->
  <button id="drawBtn" onclick="drawOnce()">ÎπÑÏ¶à ÎΩëÍ∏∞</button>

  <!-- Ïπ¥ÌîºÎùºÏù¥Ìä∏ -->
  <div class="copyright">
    ¬© Pong PocoPoco Project
  </div>

</div>

<script>
  // ÎÇ†Ïßú (ÏûêÏ†ï Í∏∞Ï§Ä)
  function getToday() {
    const now = new Date();
    return now.getFullYear() + "-" +
      String(now.getMonth() + 1).padStart(2, "0") + "-" +
      String(now.getDate()).padStart(2, "0");
  }

  // üéØ ÌôïÎ•† ÏÑ§Ï†ï (Ï¥ù 17Í∞úÎ°ú ÎäòÎ¶¨Î©¥ Îê®)
  const items = [
    { img: "https://i.imgur.com/AzLRt62.png", text: "1", weight: 40 },
    { img: "https://i.imgur.com/aj93cdr.png", text: "2", weight: 40 },
    { img: "https://i.imgur.com/Cd1wCSR.png", text: "3", weight: 40 },
    { img: "https://i.imgur.com/EJgJuYU.png", text: "4", weight: 40 },
    { img: "https://i.imgur.com/PG9LlCU.png", text: "5", weight: 40 },
    { img: "https://i.imgur.com/uZICWWs.png", text: "6", weight: 40 },
    { img: "https://i.imgur.com/4haWS1t.png", text: "7", weight: 20 },
    { img: "https://i.imgur.com/9EFrKWH.png", text: "8", weight: 20 },
    { img: "https://i.imgur.com/5VO6tms.png", text: "9", weight: 20 },
    { img: "https://i.imgur.com/pjmbbnr.png", text: "10", weight: 20 },
    { img: "https://i.imgur.com/stAEGUa.png", text: "11", weight: 8 },
    { img: "https://i.imgur.com/8UEBiRl.png", text: "12", weight: 8 },
    { img: "https://i.imgur.com/NzPHyDO.png", text: "13", weight: 8 },
    { img: "https://i.imgur.com/XmEdvW2.png", text: "14", weight: 8 },
    { img: "https://i.imgur.com/VNaBcla.png", text: "15", weight: 8 },
    { img: "https://i.imgur.com/AZdtAbt.png", text: "16", weight: 2 },
    { img: "https://i.imgur.com/RQNwhO3.png", text: "17", weight: 2 }

  ];

  // Í∞ÄÏ§ëÏπò ÎûúÎç§
  function weightedRandom(items) {
    const total = items.reduce((sum, i) => sum + i.weight, 0);
    let rand = Math.random() * total;

    for (const item of items) {
      rand -= item.weight;
      if (rand < 0) return item;
    }
  }

  function drawOnce() {
    const today = getToday();
    const savedDate = localStorage.getItem("lastDrawDate");

    if (savedDate === today) {
      alert("Ïò§ÎäòÏùÄ Ïù¥ÎØ∏ Í≤∞Í≥ºÎ•º ÌôïÏù∏ÌñàÏñ¥Ïöî!\nÎÇ¥Ïùº Îã§Ïãú ÏôÄÏ£ºÏÑ∏Ïöî üòä");
      return;
    }

    const result = weightedRandom(items);

    document.getElementById("resultImage").src = result.img;
    document.getElementById("resultText").innerText = result.text;

    localStorage.setItem("lastDrawDate", today);
    document.getElementById("drawBtn").disabled = true;
  }

  // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ïò§Îäò Ïù¥ÎØ∏ ÎΩëÏïòÏúºÎ©¥ Î≤ÑÌäº ÎπÑÌôúÏÑ±Ìôî
  window.onload = function () {
    const today = getToday();
    if (localStorage.getItem("lastDrawDate") === today) {
      document.getElementById("drawBtn").disabled = true;
    }
  };
</script>

</body>
</html>
